{"version":3,"file":"static/js/257.7949de95.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","services/tmdb-api.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const CardContainer = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 30px 0;\n  border-bottom: 1px solid black;\n`;\n\nexport const DescrContainer = styled.div`\n  display: flex;\n  align-items: start;\n  flex-direction: column;\n  margin-left: 50px;\n  /* justify-content: start; */\n`;\n\nexport const AddInfoCont = styled.div`\n  padding: 10px 0;\n  border-bottom: 1px solid black;\n`;\n","import { Suspense, useRef, useEffect, useState } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { getMovieById } from '../../services/tmdb-api';\nimport PropTypes from 'prop-types';\nimport {\n  CardContainer,\n  DescrContainer,\n  AddInfoCont,\n} from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const [movieTitle, setMovieTitle] = useState('');\n  const [moviePoster, setMoviePoster] = useState('');\n  const [releaseDate, setReleaseDate] = useState('');\n  const [movieScore, setMovieScore] = useState('');\n  const [movieOverview, setMovieOverview] = useState([]);\n  const [movieGenres, setMovieGenres] = useState('');\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? '/');\n  const { movieId } = useParams();\n  //   console.log(backLink);\n  //   console.log(movieId);\n  useEffect(() => {\n    getMovieById(movieId)\n      .then(result => {\n        const imgUrl = `https://image.tmdb.org/t/p/w500${result.poster_path}`;\n        const movieDate = result.release_date.slice(0, 4);\n        const score = result.vote_average * 10;\n        const genres = result.genres.map(({ name }) => name);\n\n        setMovieTitle(result.title);\n        setMoviePoster(imgUrl);\n        setReleaseDate(movieDate);\n        setMovieScore(score.toFixed(0));\n        setMovieOverview(result.overview);\n        setMovieGenres(genres.join(' '));\n      })\n      .catch(() => {\n        console.log('Fetch error');\n      });\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={backLink.current}>Go back</Link>\n      <CardContainer>\n        <img src={moviePoster} alt={`${movieTitle} poster`} width=\"300\"></img>\n        <DescrContainer>\n          <h2>\n            {movieTitle} ({releaseDate})\n          </h2>\n          <p>User Score: {movieScore}%</p>\n          <h3>Overview</h3>\n          <p>{movieOverview}</p>\n          <h4>Genres</h4>\n          <p>{movieGenres}</p>\n        </DescrContainer>\n      </CardContainer>\n      <AddInfoCont>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </AddInfoCont>\n      <Suspense fallback={<div>Loading additional info...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\nMovieDetails.propTypes = {\n  movieTitle: PropTypes.string,\n  moviePoster: PropTypes.string,\n  releaseDate: PropTypes.string,\n  movieScore: PropTypes.string,\n  movieOverview: PropTypes.arrayOf(PropTypes.shape({})),\n  movieGenres: PropTypes.string,\n  location: PropTypes.string,\n  backLink: PropTypes.string,\n  movieId: PropTypes.string,\n};\n\n//  const [movieTitle, setMovieTitle] = useState('');\n//   const [moviePoster, setMoviePoster] = useState('');\n//   const [releaseDate, setReleaseDate] = useState('');\n//   const [movieScore, setMovieScore] = useState('');\n//   const [movieOverview, setMovieOverview] = useState('');\n//   const [movieGenres, setMovieGenres] = useState('');\n//   const location = useLocation();\n//   const backLink = useRef(location.state?.from ?? '/');\n//   const { movieId } = useParams();\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '909c04d45dd4c126cd2df97943bce308';\n\nexport async function getTrendingMovie() {\n  const endpoint = '/trending/movie/day';\n  try {\n    const config = {\n      method: 'GET',\n      url: BASE_URL + endpoint,\n      params: {\n        api_key: API_KEY,\n      },\n    };\n    const response = await axios(config);\n    // console.log(response.data);\n    // console.log(response.data.totalHits);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getMovieById(id) {\n  const endpoint = `/movie/${id}`;\n  try {\n    const config = {\n      method: 'GET',\n      url: BASE_URL + endpoint,\n      params: {\n        api_key: API_KEY,\n      },\n    };\n    const response = await axios(config);\n    // console.log(response.data);\n    // console.log(response.data.totalHits);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getMovieCredits(id) {\n  const endpoint = `/movie/${id}/credits`;\n  try {\n    const config = {\n      method: 'GET',\n      url: BASE_URL + endpoint,\n      params: {\n        api_key: API_KEY,\n      },\n    };\n    const response = await axios(config);\n    // console.log(response.data);\n    // console.log(response.data.totalHits);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getMovieReviews(id) {\n  const endpoint = `/movie/${id}/reviews`;\n  try {\n    const config = {\n      method: 'GET',\n      url: BASE_URL + endpoint,\n      params: {\n        api_key: API_KEY,\n      },\n    };\n    const response = await axios(config);\n    // console.log(response.data);\n    // console.log(response.data.totalHits);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getMovieByQuery(query) {\n  const endpoint = `/search/movie`;\n  try {\n    const config = {\n      method: 'GET',\n      url: BASE_URL + endpoint,\n      params: {\n        api_key: API_KEY,\n        query,\n      },\n    };\n    const response = await axios(config);\n    // console.log(response.data);\n    // console.log(response.data.totalHits);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// const BASE_URL = 'https://pixabay.com/api/';\n// const API_KEY = '909c04d45dd4c126cd2df97943bce308';\n\n// export default async function getImgs(inputData, page) {\n//   try {\n//     const config = {\n//       method: 'GET',\n//       url: BASE_URL,\n//       params: {\n//         key: API_KEY,\n//         q: inputData,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',\n//         page: page,\n//         per_page: 12,\n//       },\n//     };\n//     const response = await axios(config);\n//     // console.log(response.data);\n//     // console.log(response.data.totalHits);\n//     return response.data;\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n"],"names":["CardContainer","styled","DescrContainer","AddInfoCont","useState","movieTitle","setMovieTitle","moviePoster","setMoviePoster","releaseDate","setReleaseDate","movieScore","setMovieScore","movieOverview","setMovieOverview","movieGenres","setMovieGenres","location","useLocation","backLink","useRef","state","from","movieId","useParams","useEffect","getMovieById","then","result","imgUrl","poster_path","movieDate","release_date","slice","score","vote_average","genres","map","name","title","toFixed","overview","join","catch","console","log","to","current","src","alt","width","Suspense","fallback","BASE_URL","API_KEY","getTrendingMovie","config","method","url","params","api_key","axios","response","data","id","endpoint","getMovieCredits","getMovieReviews","getMovieByQuery","query"],"sourceRoot":""}